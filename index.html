<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
    
</head>
<body onload="setTomorrowDayOfWeek()">
    <div class="main">
        <h1>ë‹¤ìŒë‚  ë§Œë‚¨ í™•ì¸</h1>
    </div>

    <div class="tab">
        <button class="tablinks active" onclick="openTab(event, 'home')">Leaf</button>
        <button class="tablinks" onclick="openTab(event, 'about')">Meet</button>
    </div>

    <div id="home" class="tabcontent">
        <div>
            <p>1ë²ˆ</p>
            <textarea id="area1"></textarea>
        </div>
        
        <div>
            <p>2ë²ˆ</p>
            <textarea id="area2"></textarea>
        </div>
        
        <div>    
            <p>3ë²ˆ</p>
            <textarea id="area3"></textarea>
        </div>
        
        <div>
            <p>4ë²ˆ</p>
            <textarea id="area4"></textarea>
        </div>
        <div>
            <p>5ë²ˆ</p>
            <textarea id="area5"></textarea>
        </div>
        <div class="line10"></div>
        <div class="button">
            <label for="daySelect">ìš”ì¼ ì„ íƒ:</label>
            <select id="daySelect">
                <!-- ë‚´ì¼ ìš”ì¼ì„ ì˜µì…˜ìœ¼ë¡œ ì¶”ê°€ -->
                <option value="ì¼">ì¼ìš”ì¼</option>
                <option value="ì›”">ì›”ìš”ì¼</option>
                <option value="í™”">í™”ìš”ì¼</option>
                <option value="ìˆ˜">ìˆ˜ìš”ì¼</option>
                <option value="ëª©">ëª©ìš”ì¼</option>
                <option value="ê¸ˆ">ê¸ˆìš”ì¼</option>
                <option value="í† ">í† ìš”ì¼</option>
            </select>
            <button class="makeResult" onclick="add();">Make</button>
        </div>
        <div class="line10"></div>
        <textarea id="result"></textarea>
    </div>
    

    <div id="about" class="tabcontent">
        <div>
            <p>ë‚´ìš©</p>
            <textarea id="allText"></textarea>
        </div>
        <div class="line10"></div>
        <div class="button">
            <label for="month">ë‚ ì§œ:</label>
            <select id="month">
                <!-- ë‚´ì¼ì˜ ì›”ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì • -->
                <script>
                    var tomorrow = new Date();
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    var month = tomorrow.getMonth() + 1;
                    var year = tomorrow.getFullYear();
                    document.write('<option value="' + month + '">' + month + '</option>');
                </script>
                <option value="1">1ì›”</option>
                <option value="2">2ì›”</option>
                <option value="3">3ì›”</option>
                <option value="4">4ì›”</option>
                <option value="5">5ì›”</option>
                <option value="6">6ì›”</option>
                <option value="7">7ì›”</option>
                <option value="8">8ì›”</option>
                <option value="9">9ì›”</option>
                <option value="10">10ì›”</option>
                <option value="11">11ì›”</option>
                <option value="12">12ì›”</option>
            </select>
            
            <select id="day">
                <!-- ë‚´ì¼ì˜ ë‚ ì§œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì • -->
                <script>
                    var tomorrow = new Date();
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    var day = tomorrow.getDate();
                    if (day < 10) {
                        day = "0" + day
                    }
                    var month = tomorrow.getMonth() + 1;
                    var year = tomorrow.getFullYear();
                    document.write('<option value="' + day + '">' + day + '</option>');
                </script>
                <!-- ë‚˜ë¨¸ì§€ ë‚ ì§œë“¤ë„ ì¶”ê°€ -->
                <option value="01">01</option>
                <option value="02">02</option>
                <option value="03">03</option>
                <option value="04">04</option>
                <option value="05">05</option>
                <option value="06">06</option>
                <option value="07">07</option>
                <option value="08">08</option>
                <option value="09">09</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>
                <option value="31">31</option>
            </select>
            
                <button class="makeResult" onclick="makeOnlyMeetings();">Make</button>
                <div class="line10"></div>
        </div>
        <div>
            <textarea id="result_new"></textarea>
        </div>
    </div>
    <script>
        document.getElementById('home').style.display = 'block';
        function setTomorrowDayOfWeek() {
            // í˜„ì¬ ë‚ ì§œ ê°€ì ¸ì˜¤ê¸°
            var today = new Date();

            // ë‚´ì¼ ë‚ ì§œ ê³„ì‚°
            var tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);

            // ìš”ì¼ ëª©ë¡
            var daysOfWeek = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];

            // ë‚´ì¼ ìš”ì¼ ê°€ì ¸ì˜¤ê¸°
            var tomorrowDayOfWeek = daysOfWeek[tomorrow.getDay()];

            // select ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
            var select = document.getElementById('daySelect');

            // ë‚´ì¼ ìš”ì¼ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •
            select.value = tomorrowDayOfWeek;
        }

        function add() {
            // var tomorrow_weekday = get_tmrw_weekday();
            let tomorrow_weekday = document.getElementById("daySelect").value;

            // var tomorrow_weekday = select_weekday.options[select_weekday.selectedIndex].value
            let area1 = document.getElementById("area1").value;
            let area2 = document.getElementById("area2").value;
            let area3 = document.getElementById("area3").value;
            let area4 = document.getElementById("area4").value;
            let area5 = document.getElementById("area5").value;
            //* area1.split(f"\n{tomorrow}")[1].split("\n\n")[0]
            
            var tmrw_area1_meeting = String(String(area1).split("\n"+tomorrow_weekday)[1]).split("\n\n")[0];
            var tmrw_area2_meeting = String(String(area2).split("\n"+tomorrow_weekday)[1]).split("\n\n")[0];
            var tmrw_area3_meeting = String(String(area3).split("\n"+tomorrow_weekday)[1]).split("\n\n")[0];
            var tmrw_area4_meeting = String(String(area4).split("\n"+tomorrow_weekday)[1]).split("\n\n")[0];
            var tmrw_area5_meeting = String(String(area5).split("\n"+tomorrow_weekday)[1]).split("\n\n")[0];
            
            document.getElementById("result").innerHTML = "âœ”ï¸1êµ¬ì—­" + tmrw_area1_meeting + "\n\n" + "âœ”ï¸2êµ¬ì—­" + tmrw_area2_meeting + "\n\n" + "âœ”ï¸3êµ¬ì—­" + tmrw_area3_meeting + "\n\n" + "âœ”ï¸4êµ¬ì—­" + tmrw_area4_meeting + "\n\n" + "âœ”ï¸5êµ¬ì—­" + tmrw_area4_meeting;
            // document.getElementById("result").innerHTML = "hhhhh";
        }

        function makeOnlyMeetings() {
            let allText = document.getElementById("allText").value;
            let month = document.getElementById("month").value
            let day = document.getElementById("day").value
            let date = month + "." + day


            let targetText = String(allText).split("ë¹„ì˜¤í”ˆ")[1]
            let pickFruit = String(String(String(targetText).split("ë”°ê¸°")[1]).split("ìƒë‹´")[0]).split("\n")
            let talkFruit = String(String(String(targetText).split("ìƒë‹´")[1]).split("ì •íŒŒ")[0]).split("\n")
            let willTalkFruit = String(String(String(targetText).split("ìƒë‹´ì˜ˆì •")[1]).split("íƒ€ê²Ÿì°¾ê¸°")[0]).split("\n")
            let meetFruit = String(String(String(targetText).split("íƒ€ê²Ÿì°¾ê¸°")[1]).split("ì°¾ê¸°")[0]).split("\n")

            let pickList = []
            let talkList = []
            let willTalkList = []
            let meetList = []

            for (let i = 0; i < pickFruit.length; i++) {
                if (pickFruit[i].includes(String(date))) {
                    pickList.push(pickFruit[i]);
                }
            }
            for (let j = 0; j < talkFruit.length; j++) {
                if (talkFruit[j].includes(String(date))) {
                    talkList.push(talkFruit[j]);
                }
            }
            for (let k = 0; k < willTalkFruit.length; k++) {
                if (willTalkFruit[k].includes(String(date))) {
                    willTalkList.push(willTalkFruit[k]);
                }
            }
            for (let l = 0; l < meetFruit.length; l++) {
                if (meetFruit[l].includes(String(date))) {
                    meetList.push(meetFruit[l]);
                }
            }

            result = "ğŸ’š3íŒ€ " + month + "." + day + "ë§Œë‚¨ ê±´\n\n"+ "â–«ï¸ë”°ê¸°\n" + pickList.join("\n") + "\n\nâ–«ï¸ìƒë‹´\n" + talkList.join("\n") + "\n\nâ–«ï¸ìƒë‹´ì˜ˆì •\n" + willTalkList.join("\n") + "\n\nâ–«ï¸íƒ€ê²Ÿì°¾ê¸°\n" + meetList.join("\n") + "\n"
            document.getElementById("result_new").innerHTML = result;
        }
        
        // ì´ˆê¸° íƒ­ ì„¤ì •
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;

            // ëª¨ë“  íƒ­ ë‚´ìš© ìˆ¨ê¸°ê¸°
            tabcontent = document.getElementsByClassName('tabcontent');
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = 'none';
            }

            // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
            tablinks = document.getElementsByClassName('tablinks');
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(' active', '');
            }

            // ì„ íƒí•œ íƒ­ ë‚´ìš© ë³´ì—¬ì£¼ê¸°
            document.getElementById(tabName).style.display = 'block';

            // ì„ íƒí•œ íƒ­ ë²„íŠ¼ í™œì„±í™”
            evt.currentTarget.className += ' active';
        }
    </script>

</body>
</html>